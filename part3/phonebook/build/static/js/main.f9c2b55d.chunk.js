(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(14),u=t.n(r),l=t(4),c=t(2),i=function(e){var n=e.value,t=e.onChange;return o.a.createElement("div",null,"Filter by name: ",o.a.createElement("input",{value:n,onChange:t}))},m=function(e){var n=e.onSubmit,t=e.nameValue,a=e.nameOnChange,r=e.numberValue,u=e.numberOnChange;return o.a.createElement("form",{onSubmit:n},o.a.createElement("div",null,"Name: ",o.a.createElement("input",{value:t,onChange:a})),o.a.createElement("div",null,"Number: ",o.a.createElement("input",{value:r,onChange:u})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"ADD")))},d=function(e){var n=e.filterPerson,t=e.persons,a=e.deletePerson;return o.a.createElement("div",null,t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return o.a.createElement("div",{key:e.name},o.a.createElement("p",null,e.name," ",e.number),o.a.createElement("button",{value:e.id,onClick:a},"Delete"))})))},f=t(3),s=t.n(f),b="/api/persons",h=function(){return s.a.get(b)},v=function(e){return s.a.post(b,e)},p=function(e,n){return s.a.put("".concat(b,"/").concat(e),n)},E=function(e){return s.a.delete("".concat(b,"/").concat(e))},g=function(e){var n=e.message;return null===n?null:o.a.createElement("div",{style:{color:"black",fontStyle:"bold",fontSize:25,display:"flex",justifyContent:"center",background:"lightgreen",border:"1px solid black",marginBottom:10,borderRadius:20}},n)},w=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],r=n[1],u=Object(a.useState)(""),f=Object(c.a)(u,2),s=f[0],b=f[1],w=Object(a.useState)(""),O=Object(c.a)(w,2),j=O[0],C=O[1],S=Object(a.useState)(""),k=Object(c.a)(S,2),y=k[0],P=k[1],D=Object(a.useState)(null),N=Object(c.a)(D,2),T=N[0],V=N[1];Object(a.useEffect)((function(){h().then((function(e){r(e.data)}))}),[]);return o.a.createElement("div",null,o.a.createElement("h1",null,"Phonebook"),o.a.createElement(g,{message:T}),o.a.createElement(i,{value:y,onChange:function(e){P(e.target.value)}}),o.a.createElement("h2",null,"Add a New Entry"),o.a.createElement(m,{onSubmit:function(e){var n,a;if(e.preventDefault(),t.some((function(e){return e.name===s}))){if(window.confirm("".concat(s," is already in the Phonebook, replace the old number with a new one?"))){var o=t.filter((function(e){return e.name===s})),u=Object(l.a)(Object(l.a)({},o[0]),{},{number:j});n=u.id,p(n,a=u).then((function(e){r(t.map((function(n){return n.id!==e.id?n:e.data}))),V("".concat(a.name,"'s number has been updated!")),setTimeout((function(){V(null),window.location.reload()}),2e3)}))}}else v({name:s,number:j}).then((function(e){r(t.concat(e.data)),b(""),C(""),V("".concat(e.data.name," has been added to the list!")),setTimeout((function(){V(null),window.location.reload()}),2e3)}))},nameValue:s,nameOnChange:function(e){b(e.target.value)},numberValue:j,numberOnChange:function(e){C(e.target.value)}}),o.a.createElement("h2",null,"Numbers"),o.a.createElement(d,{filterPerson:y,persons:t,deletePerson:function(e){var n=t.filter((function(n){return n.id.toString()===e.target.value.toString()}));window.confirm("Confirm to delete")&&function(e,n){E(e).then((function(e){V("".concat(n[0].name," has been deleted from the list!")),setTimeout((function(){V(null),window.location.reload()}),2e3)})).catch((function(e){V("".concat(n[0].name," was already deleted")),setTimeout((function(){V(null),window.location.reload()}),2e3)}))}(e.target.value,n)}}))};t(37);u.a.render(o.a.createElement(w,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.f9c2b55d.chunk.js.map